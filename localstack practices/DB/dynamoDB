۱. ساخت جدول DynamoDB


aws dynamodb create-table \
    --region us-east-1 \
    --table-name UsersTable \
    --attribute-definitions AttributeName=username,AttributeType=S \
    --key-schema AttributeName=username,KeyType=HASH \
    --billing-mode PAY_PER_REQUEST \
    --endpoint-url=http://localhost:4566
۲. ساخت لامبدا (Zip)




aws lambda create-function \
    --region us-east-1 \
    --function-name RegisterUserFunction \
    --runtime python3.9 \
    --role arn:aws:iam::000000000000:role:lambda-exec-role \
    --handler auth.handler \
    --zip-file fileb://auth_lambda/auth_payload.zip \
    --endpoint-url=http://localhost:4566
۳. تست نهایی (Invoke)


aws lambda invoke \
    --region us-east-1 \
    --function-name RegisterUserFunction \
    --payload '{"body": "{\"username\": \"Ali\", \"password\": \"MySecretPass123\"}"}' \
    --cli-binary-format raw-in-base64-out \
    --endpoint-url=http://localhost:4566 \
    /dev/stdout